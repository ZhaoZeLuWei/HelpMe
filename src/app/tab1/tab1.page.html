<div class="page-container">
  
  <!-- 右上角语言切换按钮 -->
  <button class="lang-switch-btn" (click)="toggleLanguage()">
    <span class="material-icons">public</span>
    <span>{{ currentLang }}</span>
  </button>

  <!-- 顶部搜索框 -->
  <div class="search-container ion-padding">
    <input 
      type="text" 
      class="search-input" 
      placeholder="搜索想找的事件..."
      (input)="onSearchInput($event)"
      (keypress)="onSearchKeyPress($event)"
    >
    <button class="search-btn" (click)="onSearchClick()">搜索</button>
  </div>

  <!-- 内容区域 -->
  <div class="content-area ion-padding">
    
    <!-- 求助大卡片 -->
    <div class="big-card request-card">
      <h3 class="big-card-title">求助</h3>
      
      <!-- 使用 app-show-event 组件循环显示 -->
      <div class="small-card-grid">
        <!-- 注意：这里使用了我们新建的组件标签 -->
        <app-show-event 
          *ngFor="let req of requestList; trackBy: trackById"
          [event]="req"
          (cardClick)="cardClickFeedback($event)">
        </app-show-event>
      </div>

      <!-- 更多按钮 -->
      <button class="big-card-more-btn" (click)="onBigCardMoreClick('request')">
        <div class="css-triangle"></div>
        更多
      </button>
    </div>

    <!-- 帮助大卡片 -->
    <div class="big-card help-card">
      <h3 class="big-card-title">帮助</h3>

      <div class="small-card-grid">
        <!-- 帮助列表也使用新组件 -->
        <app-show-event 
          *ngFor="let help of helpList; trackBy: trackById"
          [event]="help"
          (cardClick)="cardClickFeedback($event)">
        </app-show-event>
      </div>

      <button class="big-card-more-btn" (click)="onBigCardMoreClick('help')">
        <div class="css-triangle"></div>
        更多
      </button>
    </div>

    <!-- 自定义美观弹窗 -->
    <div class="custom-modal-overlay" *ngIf="showLangConfirmModal" (click)="cancelSwitchLanguage()">
      <div class="custom-modal-card" (click)="$event.stopPropagation()">
        <div class="modal-icon-circle">
          <span class="material-icons">language</span>
        </div>
        <h3 class="modal-header">提示 / Alert</h3>
        <p class="modal-body">
          您确定要切换语言吗？<br>
          <span class="sub-text">Are you sure you want to switch language?</span>
        </p>
        <div class="modal-actions">
          <button class="modal-btn cancel" (click)="cancelSwitchLanguage()">取消 / Cancel</button>
          <button class="modal-btn confirm" (click)="confirmSwitchLanguage()">确定 / OK</button>
        </div>
      </div>
    </div>

  </div>
</div>