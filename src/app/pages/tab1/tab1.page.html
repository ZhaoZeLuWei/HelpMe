<div class="page-container">
  <button class="lang-switch-btn" (click)="toggleLanguage()">
    <span class="material-icons">public</span>
    <!-- 使用 getter 或 t.btnText -->
    <span>{{ t.btnText }}</span>
  </button>

  <div class="search-bar-wrapper" (click)="goToSearchPage()">
    <ion-searchbar
      [disabled]="true"
      [placeholder]="t.searchPlaceholder"
      [animated]="true"
      show-clear-button="never">
    </ion-searchbar>
  </div>

  <div class="content-area ion-padding">
    <!-- 求助大卡片 -->
    <div class="big-card request-card">
      <h3 class="big-card-title">{{ t.requestTitle }}</h3>

      <div class="small-card-grid">
        <ng-container *ngIf="requestList.length > 0">
          <app-show-event
            *ngFor="let req of requestList; trackBy: trackById"
            [event]="req"
            (cardClick)="cardClickFeedback($event)">
          </app-show-event>
        </ng-container>

        <div *ngIf="requestList.length === 0" class="empty-state">
          <span class="material-icons">search_off</span>
          <p>{{ t.noEvent }}</p>
        </div>
      </div>

      <button class="big-card-more-btn" (click)="goToTab2Search('request')">
        <div class="css-triangle"></div>
        {{ t.more }}
      </button>
    </div>

    <!-- 帮助大卡片 -->
    <div class="big-card help-card">
      <h3 class="big-card-title">{{ t.helpTitle }}</h3>

      <div class="small-card-grid">
        <ng-container *ngIf="helpList.length > 0">
          <app-show-event
            *ngFor="let help of helpList; trackBy: trackById"
            [event]="help"
            (cardClick)="cardClickFeedback($event)">
          </app-show-event>
        </ng-container>

        <div *ngIf="helpList.length === 0" class="empty-state">
          <span class="material-icons">search_off</span>
          <p>{{ t.noHelp }}</p>
        </div>
      </div>

      <button class="big-card-more-btn" (click)="goToTab2Search('help')">
        <div class="css-triangle"></div>
        {{ t.more }}
      </button>
    </div>

    <!-- 弹窗 -->
    <div class="custom-modal-overlay" *ngIf="showLangConfirmModal" (click)="cancelSwitchLanguage()">
      <div class="custom-modal-card" (click)="$event.stopPropagation()">
        <div class="modal-icon-circle">
          <span class="material-icons">language</span>
        </div>
        <h3 class="modal-header">{{ t.modalTitle }}</h3>
        <p class="modal-body" [innerHTML]="t.modalBody"></p>
        <div class="modal-actions">
          <button class="modal-btn cancel" (click)="cancelSwitchLanguage()">{{ t.cancel }}</button>
          <button class="modal-btn confirm" (click)="confirmSwitchLanguage()">{{ t.confirm }}</button>
        </div>
      </div>
    </div>
  </div>
</div>